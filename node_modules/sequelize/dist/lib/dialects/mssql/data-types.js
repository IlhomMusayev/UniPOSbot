"use strict";var q=Object.defineProperty;var e=(t,i)=>q(t,"name",{value:i,configurable:!0});const I=require("moment");module.exports=t=>{const i=t.ABSTRACT.warn.bind(void 0,"https://msdn.microsoft.com/en-us/library/ms187752%28v=sql.110%29.aspx");function o(s){(s._length||s.options.length||s._unsigned||s._zerofill)&&(i(`MSSQL does not support '${s.key}' with options. Plain '${s.key}' will be used instead.`),s._length=void 0,s.options.length=void 0,s._unsigned=void 0,s._zerofill=void 0)}e(o,"removeUnsupportedIntegerOptions"),t.DATE.types.mssql=[43],t.STRING.types.mssql=[231,173],t.CHAR.types.mssql=[175],t.TEXT.types.mssql=!1,t.TINYINT.types.mssql=[30],t.SMALLINT.types.mssql=[34],t.MEDIUMINT.types.mssql=!1,t.INTEGER.types.mssql=[38],t.BIGINT.types.mssql=!1,t.FLOAT.types.mssql=[109],t.TIME.types.mssql=[41],t.DATEONLY.types.mssql=[40],t.BOOLEAN.types.mssql=[104],t.BLOB.types.mssql=[165],t.DECIMAL.types.mssql=[106],t.UUID.types.mssql=!1,t.ENUM.types.mssql=!1,t.REAL.types.mssql=[109],t.DOUBLE.types.mssql=[109],t.GEOMETRY.types.mssql=!1;class r extends t.BLOB{toSql(){if(this._length){if(this._length.toLowerCase()==="tiny")return i("MSSQL does not support BLOB with the `length` = `tiny` option. `VARBINARY(256)` will be used instead."),"VARBINARY(256)";i("MSSQL does not support BLOB with the `length` option. `VARBINARY(MAX)` will be used instead.")}return"VARBINARY(MAX)"}_hexify(n){return`0x${n}`}}e(r,"BLOB");class d extends t.STRING{toSql(){return this._binary?`BINARY(${this._length})`:`NVARCHAR(${this._length})`}_stringify(n,l){return this._binary?r.prototype._stringify(n):l.escape(n)}_bindParam(n,l){return l.bindParam(this._binary?Buffer.from(n):n)}}e(d,"STRING"),d.prototype.escape=!1;class u extends t.TEXT{toSql(){if(this._length){if(this._length.toLowerCase()==="tiny")return i("MSSQL does not support TEXT with the `length` = `tiny` option. `NVARCHAR(256)` will be used instead."),"NVARCHAR(256)";i("MSSQL does not support TEXT with the `length` option. `NVARCHAR(MAX)` will be used instead.")}return"NVARCHAR(MAX)"}}e(u,"TEXT");class h extends t.BOOLEAN{toSql(){return"BIT"}}e(h,"BOOLEAN");class f extends t.UUID{toSql(){return"CHAR(36)"}}e(f,"UUID");class A extends t.NOW{toSql(){return"GETDATE()"}}e(A,"NOW");class c extends t.DATE{toSql(){return"DATETIMEOFFSET"}}e(c,"DATE");class m extends t.DATEONLY{static parse(n){return I(n).format("YYYY-MM-DD")}}e(m,"DATEONLY");class L extends t.INTEGER{constructor(n){super(n);o(this)}}e(L,"INTEGER");class R extends t.TINYINT{constructor(n){super(n);o(this)}}e(R,"TINYINT");class E extends t.SMALLINT{constructor(n){super(n);o(this)}}e(E,"SMALLINT");class S extends t.BIGINT{constructor(n){super(n);o(this)}}e(S,"BIGINT");class N extends t.REAL{constructor(n,l){super(n,l);(this._length||this.options.length||this._unsigned||this._zerofill)&&(i("MSSQL does not support REAL with options. Plain `REAL` will be used instead."),this._length=void 0,this.options.length=void 0,this._unsigned=void 0,this._zerofill=void 0)}}e(N,"REAL");class _ extends t.FLOAT{constructor(n,l){super(n,l);this._decimals&&(i("MSSQL does not support Float with decimals. Plain `FLOAT` will be used instead."),this._length=void 0,this.options.length=void 0),this._unsigned&&(i("MSSQL does not support Float unsigned. `UNSIGNED` was removed."),this._unsigned=void 0),this._zerofill&&(i("MSSQL does not support Float zerofill. `ZEROFILL` was removed."),this._zerofill=void 0)}}e(_,"FLOAT");class g extends t.ENUM{toSql(){return"VARCHAR(255)"}}return e(g,"ENUM"),{BLOB:r,BOOLEAN:h,ENUM:g,STRING:d,UUID:f,DATE:c,DATEONLY:m,NOW:A,TINYINT:R,SMALLINT:E,INTEGER:L,BIGINT:S,REAL:N,FLOAT:_,TEXT:u}};
//# sourceMappingURL=data-types.js.map
